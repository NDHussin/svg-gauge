!function(e,t){var n=t(e);"function"==typeof define&&define.amd?define(function(){return n}):"object"==typeof module&&module.exports?module.exports=n:e.Gauge=n}("undefined"==typeof window?this:window,function(e,t){var n=e.document,a=Array.prototype.slice,i=e.requestAnimationFrame||e.mozRequestAnimationFrame||e.webkitRequestAnimationFrame||e.msRequestAnimationFrame||function(e){return setTimeout(e,1e3/60)};return function(){var e={centerX:50,centerY:50},t={dialRadius:40,dialStartAngle:135,dialEndAngle:45,value:0,max:100,min:0,valueDialClass:"value",valueClass:"value-text",dialClass:"dial",gaugeClass:"gauge",showValue:!0,showValuePercent:!1,showMin:!1,showMax:!1,gaugeColor:null,label:function(e){return Math.round(e)}};function l(e,t,a){var i=n.createElementNS("http://www.w3.org/2000/svg",e);for(var l in t)i.setAttribute(l,t[l]);return a&&a.forEach(function(e){i.appendChild(e)}),i}function s(e,t){return e*t/100}function o(e,t,n){var a=Number(e);return a>n?n:a<t?t:a}function r(e,t,n,a){var i=a*Math.PI/180;return{x:Math.round((e+n*Math.cos(i))*1e3)/1e3,y:Math.round((t+n*Math.sin(i))*1e3)/1e3}}return function n(u,$){var c,f,d,m,_,g,v,x,h=($=function e(){var t=arguments[0],n=a.call(arguments,1);return n.forEach(function(e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])}),t}({},t,$)).max,w=$.min,p=o($.value,w,h),y=$.dialRadius,b=$.showValue,C=$.showValuePercent,A=$.showMinValue,V=$.showMaxValue,k=$.dialStartAngle,M=$.dialEndAngle,R=$.valueDialClass,z=$.valueClass,E=($.valueLabelClass,$.dialClass),q=$.gaugeClass,F=$.color,P=$.label,S=$.viewBox;if(k<M){console.log("WARN! startAngle < endAngle, Swapping");var j=k;k=M,M=j}function B(t,n,a,i){var l,s,o,u,$,c=(l=t,s=n,o=a,u=e.centerX,{end:r(u,$=e.centerY,l,o),start:r(u,$,l,s)}),f=c.start,d=c.end;return["M",f.x,f.y,"A",t,t,0,void 0===i?1:i,1,d.x,d.y,].join(" ")}function D(e,t){var n,a,i,l,o,r=(n=e,a=w,i=h,100*(n-a)/(i-a)),u=s(r,360-Math.abs(k-M));b&&(C?m.textContent=P.call($,(l=e,o=h,l/o*100))+"%":m.textContent=P.call($,e)),A&&(_.textContent=P.call($,w)),V&&(g.textContent=P.call($,h)),v.setAttribute("d",B(y,k,u+k,u<=180?0:1))}function N(e,t){var n=F.call($,e),a="stroke "+1e3*t+"ms ease";v.style.stroke=n,v.style["-webkit-transition"]=a,v.style["-moz-transition"]=a,v.style.transition=a}return x={setMaxValue:function(e){h=e},setValue:function(e){p=o(e,w,h),F&&N(p,0),D(p)},setValueAnimated:function(e,t){var n=p;p=o(e,w,h),n!==p&&(F&&N(p,t),function e(t){var n=t.duration,a=1,l=60*n,s=t.start||0,o=t.end-s,r=t.step,u=t.easing||function e(t){return(t/=.5)<1?.5*Math.pow(t,3):.5*(Math.pow(t-2,3)+2)};function $(){var e=a/l;r(o*u(e)+s,a),a+=1,e<1&&i($)}i($)}({start:n||0,end:p,duration:t||1,step:function(e,t){D(e,t)}}))},getValue:function(){return p}},c=u,m=l("text",{x:50,y:50,fill:"#999",class:z,"font-size":"100%","font-family":"sans-serif","font-weight":"normal","text-anchor":"middle","alignment-baseline":"middle","dominant-baseline":"central"}),_=l("text",{x:23,y:90,fill:"#999",class:z,"font-size":"100%","font-family":"sans-serif","font-weight":"normal","text-anchor":"middle","alignment-baseline":"middle","dominant-baseline":"central"}),g=l("text",{x:75,y:90,fill:"#999",class:z,"font-size":"100%","font-family":"sans-serif","font-weight":"normal","text-anchor":"middle","alignment-baseline":"middle","dominant-baseline":"central"}),v=l("path",{class:R,fill:"none",stroke:"#666","stroke-width":2.5,d:B(y,k,k)}),f=s(100,360-Math.abs(k-M)),d=l("svg",{viewBox:S||"0 0 100 100",class:q},[l("path",{class:E,fill:"none",stroke:"#eee","stroke-width":2,d:B(y,k,M,f<=180?0:1)}),l("g",{class:"text-container"},[m]),l("g",{class:"text-container"},[_]),l("g",{class:"text-container"},[g]),v,]),c.appendChild(d),x.setValue(p),x}}()});